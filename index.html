<!DOCTYPE html><html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Labour Link</title>
  <style>
    /* Professional theme variables */
    :root{
      --bg: linear-gradient(180deg,#f4f7fb,#eef3f8); /* subtle cool background */
      --card: #ffffff; /* card surface */
      --card-2: #f7fbfd; /* slightly tinted card */
      --text: #0f1724; /* primary text (dark navy) */
      --muted: #53607a; /* muted text */
      --accent: #0b63d6; /* primary accent - deep blue */
      --accent-2: #06b6d4; /* secondary accent - teal */
      --dark: #0b1220; /* deep background/dark */
      --tag-bg: rgba(11,99,214,0.08);
      --btn-text: #ffffff;
      --btn-radius:10px;
      --shadow-lg: 0 18px 40px rgba(11,18,34,0.08);
      --shadow-md: 0 8px 20px rgba(11,18,34,0.06);
    }

    /* Base layout */
  body{font-family:Inter, system-ui, Arial; color:var(--text); background:var(--bg); margin:0; padding:24px}
  .container{max-width:1100px;margin:0 auto;display:grid;grid-template-columns:1fr;gap:20px}
    .card{background:var(--card);border-radius:12px;padding:18px;box-shadow:0 6px 18px rgba(20,20,30,0.06)}
    h2{margin:0 0 12px;font-size:18px}
    label{display:block;font-size:13px;margin:10px 0 6px}
    /* Textbox base styles */
    input, select, textarea{
      width:100%;
      padding:10px;
      border:1px solid rgba(14,22,34,0.06);
      border-radius:8px;
      font-size:14px;
      background: linear-gradient(180deg,var(--card),var(--card-2));
      background-size:140% 140%;
      transition: box-shadow .22s cubic-bezier(.2,.9,.3,1), transform .18s ease, border-color .18s ease, background-position .6s ease;
      box-shadow: var(--shadow-md);
      -webkit-appearance:none; -moz-appearance:none; appearance:none;
    }

    /* Hover: subtle lift and soft border change */
    input:hover, select:hover, textarea:hover{
      transform: translateY(-2px);
      box-shadow: 0 10px 28px rgba(37,99,235,0.06);
      border-color: rgba(37,99,235,0.45);
      background-position: 0% 24%;
    }

    /* Focus: stronger glow and clearer border */
    input:focus, select:focus, textarea:focus{
      outline: none;
      transform: translateY(-3px);
      box-shadow: 0 14px 40px rgba(37,99,235,0.12);
      border-color: var(--accent);
    }

    /* Better visible focus for keyboard users */
    input:focus-visible, textarea:focus-visible, select:focus-visible{
      box-shadow: 0 16px 48px rgba(37,99,235,0.14);
    }

    /* Placeholder transitions (subtle) */
    input::placeholder, textarea::placeholder{ color:#9aa3b2; transition: color .18s ease; }

    /* Disable motion for users who prefer reduced motion */
    @media (prefers-reduced-motion: reduce){
      input, select, textarea{ transition: none; transform: none; }
      input:hover, select:hover, textarea:hover, input:focus, select:focus, textarea:focus{ box-shadow: none; }
    }
    .row{display:flex;gap:8px}
    .row > *{flex:1}

    /* Fancy button styles (applies to all <button> elements) */
    button{
      position:relative;
      display:inline-flex;
      align-items:center;
      justify-content:center;
      gap:8px;
      padding:10px 12px;
      border:none;
      cursor:pointer;
      color:var(--btn-text);
      border-radius:var(--btn-radius);
      background: linear-gradient(135deg, var(--accent), var(--accent-2));
      background-size:200% 200%;
      box-shadow:var(--shadow-md);
      transform:translateZ(0);
      transition: transform .22s cubic-bezier(.2,.9,.3,1), box-shadow .22s, filter .22s, opacity .18s, background-position .8s;
      will-change: transform, box-shadow;
      outline: none;
    }

    /* Secondary variant keeps a darker theme but shares animation */
    button.secondary{
      background: linear-gradient(135deg,var(--dark),rgba(15,23,42,0.9));
      box-shadow: var(--shadow-md);
    }

    /* Decorative glow pseudo-element */
    button::after{
      content:'';
      position:absolute;
      left:-6px; right:-6px; top:-6px; bottom:-6px;
      border-radius:calc(var(--btn-radius) + 6px);
      pointer-events:none;
      opacity:0;
      transition: opacity .22s, transform .22s;
      transform:scale(.98);
      box-shadow: 0 30px 60px rgba(11,18,34,0.06), 0 8px 30px rgba(11,99,214,0.06);
      filter: blur(8px);
    }

    /* Hover / focus: dramatic lift, scale and glow */
    button:hover, button:focus{
      transform: translateY(-10px) scale(1.08);
      box-shadow: 0 28px 72px rgba(6,99,214,0.18), 0 10px 40px rgba(6,182,212,0.08);
      filter:brightness(1.04) saturate(1.05);
    }
    button:hover::after, button:focus::after{ opacity:1; transform:scale(1.04); }

    /* Add an extra pulsing glow on hover (runs once per hover) */
    button:hover::before, button:focus::before{
      content:''; position:absolute; left:-12px; right:-12px; top:-12px; bottom:-12px; border-radius:calc(var(--btn-radius) + 12px);
      background: radial-gradient(circle at 20% 20%, rgba(6,182,212,0.18), rgba(11,99,214,0.04) 40%, transparent 60%);
      pointer-events:none; opacity:0; transform:scale(.98); transition: opacity .28s ease, transform .6s ease;
    }
    button:hover::before, button:focus::before{ opacity:1; transform:scale(1.02); }

    /* Active/pressed feedback */
    button:active{
      transform: translateY(-2px) scale(.995);
      transition-duration:120ms;
      box-shadow: 0 10px 22px rgba(0,0,0,0.12);
    }

    /* Subtle animated gradient movement on hover (run once per hover) */
    @keyframes gradientShift{
      0%{ background-position:0% 50%; }
      50%{ background-position:100% 50%; }
      100%{ background-position:0% 50%; }
    }
    /* Run the gradient sweep once when hovering (animation-iteration-count:1).
       Leaving and re-entering will replay the effect. */
    button:hover{ animation: gradientShift 3.6s linear 1; }

    /* Respect reduced-motion */
    @media (prefers-reduced-motion: reduce){
      button{ transition: none; animation: none; }
      button::after{ transition: none; }
      button::before{ transition: none; }
    }

  .small{font-size:13px;color:var(--muted);margin-top:6px}
  .muted{color:var(--muted);font-size:13px}
    .list{max-height:240px;overflow:auto;margin-top:12px}
    .item{padding:8px;border-radius:8px;border:1px dashed #e6e9f0;margin-bottom:8px}
    .flex-between{display:flex;justify-content:space-between;align-items:center}
    .tags{display:flex;gap:6px;flex-wrap:wrap}
  .tag{background:var(--tag-bg);padding:6px 8px;border-radius:999px;font-size:12px;color:var(--accent)}
    .danger{color:#b91c1c}
    .success{color:#16a34a}

  /* Hamburger button - 3-line icon with fancy animations */
  .hamburger{
    width:52px;
    height:44px;
    background:linear-gradient(180deg,var(--card), var(--card-2));
    border-radius:999px;
    border:1px solid rgba(15,23,42,0.04);
    display:inline-flex;
    flex-direction:column;
    justify-content:center;
    gap:6px;
    padding:8px;
    cursor:pointer;
    align-items:center;
    box-shadow:0 8px 20px rgba(12,18,40,0.06);
    transition: transform .22s cubic-bezier(.2,.9,.3,1), box-shadow .22s, background .3s;
    will-change: transform, box-shadow;
  }

  /* Bars */
  .hamburger span{
    display:block;
    width:28px;
    height:3px;
    background:linear-gradient(90deg,var(--accent),var(--accent-2));
    border-radius:3px;
    transform-origin:center;
    transition: transform .36s cubic-bezier(.2,.9,.3,1), opacity .2s, width .28s;
    box-shadow: 0 6px 14px rgba(37,99,235,0.08);
  }

  /* Hover effects - shimmer and lift */
  .hamburger:hover{ transform: translateY(-3px) scale(1.02); box-shadow:0 18px 40px rgba(37,99,235,0.12); }
  .hamburger:hover span{ animation: barShimmer 1.2s linear infinite; }

  @keyframes barShimmer{
    0%{ filter: hue-rotate(0deg) brightness(1); }
    50%{ filter: hue-rotate(12deg) brightness(1.08); }
    100%{ filter: hue-rotate(0deg) brightness(1); }
  }

  /* Open state: transform into an X with subtle rotation */
  .hamburger.open span:nth-child(1){ transform: translateY(6px) rotate(45deg) scaleX(1.06); }
  .hamburger.open span:nth-child(2){ opacity:0; transform: scaleX(.8); }
  .hamburger.open span:nth-child(3){ transform: translateY(-6px) rotate(-45deg) scaleX(1.06); }

  /* Accessible focus ring */
  .hamburger:focus{ outline:4px solid rgba(37,99,235,0.12); outline-offset:4px }

  /* Drawer (slides from left) */
  .drawer{position:fixed;left:0;top:0;height:100vh;width:320px;background:linear-gradient(180deg,var(--card),var(--card-2));box-shadow:18px 0 40px rgba(12,18,40,0.12);transform:translateX(-110%);transition:transform .32s cubic-bezier(.2,.9,.3,1);z-index:70;padding:18px;display:flex;flex-direction:column}
  .drawer.open{transform:translateX(0)}
  .drawer-header{display:flex;justify-content:space-between;align-items:center;margin-bottom:10px}
  .drawer-body{display:flex;flex-direction:column;gap:12px}
  .drawer-item{display:flex;justify-content:space-between;align-items:center;padding:12px;border-radius:10px;background:linear-gradient(90deg,var(--card-2),var(--card));box-shadow:var(--shadow-md)}
  .drawer-label{font-weight:600;color:#0f172a}
  .drawer-count{font-weight:700;color:var(--accent);font-size:20px}
  .drawer-overlay{position:fixed;left:0;top:0;width:100vw;height:100vh;background:rgba(6,8,23,0.32);z-index:65;transition:opacity .22s;opacity:0}

  /* Logo styles */
  .site-logo{display:inline-flex;align-items:center;gap:12px;text-decoration:none}
  .site-logo .mark{width:52px;height:52px;border-radius:12px;background:linear-gradient(135deg,var(--accent),var(--accent-2));color:white;display:inline-flex;align-items:center;justify-content:center;font-weight:800;font-size:18px;box-shadow:var(--shadow-md)}
    .site-logo .brand{display:inline-flex;flex-direction:row;align-items:baseline;gap:8px}
  .site-logo .brand .main{font-weight:800;font-size:22px;line-height:1;display:inline-block;background:linear-gradient(90deg,var(--accent) 0%, var(--accent-2) 38%, #ffffff 50%, var(--accent-2) 62%, var(--accent) 100%);-webkit-background-clip:text;background-clip:text;color:var(--accent);background-size:300% 100%;}
  .site-logo .brand .sub{font-size:16px;color:var(--muted);font-weight:700}

  /* Top navigation bar */
  .topbar{
    position:sticky;
    top:12px;
    z-index:120;
    display:flex;align-items:center;justify-content:space-between;gap:12px;
    max-width:1100px;margin:0 auto 12px;padding:8px 12px;
    background: linear-gradient(180deg, rgba(255,255,255,0.88), rgba(247,251,253,0.88));
    border-radius:12px; box-shadow:0 10px 30px rgba(12,18,40,0.06);
    transition: transform .18s ease, box-shadow .18s ease, backdrop-filter .18s;
    backdrop-filter: blur(6px) saturate(120%);
  }
  /* When the side drawer is open, keep the topbar visually behind the drawer/overlay */
  .drawer-open .topbar{ z-index:40 !important; }
  .topbar .nav{display:flex;gap:10px;align-items:center}
  .topbar .nav a{display:inline-flex;align-items:center;padding:8px 12px;border-radius:10px;color:var(--dark);text-decoration:none;font-weight:600;background:transparent;transition: transform .22s cubic-bezier(.2,.9,.3,1), box-shadow .22s, background-position .6s; background-image: linear-gradient(90deg, rgba(11,99,214,0.06), rgba(6,182,212,0.04)); background-size:200% 100%;}
  .topbar .nav a:hover, .topbar .nav a:focus{transform: translateY(-4px); box-shadow: 0 12px 28px rgba(6,99,214,0.06); background-position:100% 50%}

  /* topbar explore removed (cleaned) */

  @media (max-width:700px){
    .topbar .nav{display:none}
  }

  /* Search styles */
  .search-wrap{position:relative;display:flex;align-items:center}
  .search-input{display:flex;align-items:center;gap:8px;background:linear-gradient(180deg,var(--card),var(--card-2));padding:6px 8px;border-radius:10px;box-shadow:var(--shadow-md);border:1px solid rgba(11,18,34,0.04)}
  .search-input svg{opacity:.9}
  .search-input input{border:none;background:transparent;outline:none;padding:6px;width:320px;font-size:14px;color:var(--dark)}
  .search-results{position:absolute;left:0;top:calc(100% + 8px);min-width:320px;max-width:520px;background:var(--card);border-radius:10px;box-shadow:0 18px 40px rgba(12,18,40,0.12);overflow:hidden;border:1px solid rgba(11,18,34,0.04);display:none;z-index:120}
  .search-results.open{display:block}
  .search-item{padding:10px 12px;border-bottom:1px solid rgba(11,18,34,0.04);cursor:pointer;display:flex;flex-direction:row;gap:8px;align-items:center}
  .search-item:last-child{border-bottom:none}
  .search-item .type{font-size:11px;color:var(--muted);background:rgba(11,99,214,0.06);padding:4px 8px;border-radius:999px}
  .search-item .label{font-weight:700}
  .search-item .sub{font-size:12px;color:var(--muted)}
  .search-item[aria-selected="true"]{background:linear-gradient(180deg,rgba(11,99,214,0.04),rgba(6,182,212,0.02))}
  .sr-only{position:absolute;width:1px;height:1px;padding:0;margin:-1px;overflow:hidden;clip:rect(0,0,0,0);white-space:nowrap;border:0}

  @media (max-width:700px){
    .search-input input{width:160px}
    .search-results{min-width:200px}
  }

  /* Brand text: visible by default; animate class triggers a one-time entrance animation */
  .site-logo .brand{opacity:1;transform:none;}
  /* Slower, more visible entrance for brand text */
  .site-logo.animate .brand{opacity:1; animation:brandIn 1800ms cubic-bezier(.16,.9,.28,1) both;}
  /* main: shining gradient animation + noticeable scale float + subtle glow */
  .site-logo.animate .brand .main{animation:textShine 4800ms linear infinite 240ms, mainFloat 5000ms ease-in-out 240ms, mainGlow 1800ms ease-in-out 240ms; background-size:350% 100%; -webkit-text-fill-color: transparent; -webkit-background-clip:text; background-clip:text; color: transparent;}
  .site-logo.animate .brand .sub{animation:subFade 2200ms cubic-bezier(.2,.9,.25,1) forwards 340ms}

  @keyframes brandIn{ from{ opacity:0; transform:translateY(8px) } to{ opacity:1; transform:translateY(0) } }
  @keyframes subFade{ from{ opacity:0; transform:translateY(6px) } to{ opacity:1; transform:translateY(0) } }
  /* pronounced gradient slide on the main word */
  @keyframes gradientShiftText{ 0%{ background-position:0% 50% } 40%{ background-position:60% 50% } 80%{ background-position:100% 50% } 100%{ background-position:80% 50% } }

  /* more visible scale float for the main word while the gradient sweeps */
  @keyframes mainFloat{ 0%{ transform: scale(1) } 50%{ transform: scale(1.12) } 100%{ transform: scale(1) } }

  /* subtle glowing burst early in the entrance */
  @keyframes mainGlow{ 0%{ text-shadow: 0 0 0 rgba(6,182,212,0) } 40%{ text-shadow: 0 10px 30px rgba(6,182,212,0.18) } 100%{ text-shadow: 0 0 0 rgba(6,182,212,0) } }

  /* shining gradient that sweeps across the text (visible when .animate is applied) */
  @keyframes textShine{ 0%{ background-position:-60% 50% } 50%{ background-position:100% 50% } 100%{ background-position:260% 50% } }

    /* Respect reduced-motion */
    @media (prefers-reduced-motion: reduce){
      .site-logo .brand, .site-logo.animate .brand, .site-logo .brand .main, .site-logo .brand .sub{ animation: none !important; transition: none !important; transform: none !important; opacity:1 !important }
    }

  /* Helmet logo: subtle float, gentle rotation and glow (slow & visible) */
  .mark svg{ display:block; width:34px; height:34px; }
  /* Image logo styling and entrance animation (slow, noticeable) */
  .logo-img{ display:block; width:34px; height:34px; object-fit:contain; border-radius:8px; }
  /* entrance animation for the image logo when .animate is added */
  .site-logo.animate .logo-img{ animation: logoImgIn 2200ms cubic-bezier(.16,.9,.28,1) both 160ms; }
  /* optional gentle float after entrance (very slow) */
  .logo-img.logo-float{ animation: logoFloat 8000ms ease-in-out infinite 2400ms; }

  @keyframes logoImgIn{
    0%{ transform: translateY(10px) scale(.92) rotate(2deg); opacity:0; filter:blur(2px); }
    60%{ transform: translateY(-10px) scale(1.12) rotate(-3deg); opacity:1; filter:blur(0); }
    100%{ transform: translateY(0) scale(1) rotate(0deg); opacity:1; filter:blur(0); }
  }

  @keyframes logoFloat{
    0%{ transform: translateY(0) rotate(0deg); }
    50%{ transform: translateY(-6px) rotate(-2deg); }
    100%{ transform: translateY(0) rotate(0deg); }
  }

  /* Respect reduced-motion preference */
  @media (prefers-reduced-motion: reduce){
    .site-logo.animate .logo-img, .logo-img.logo-float{ animation: none !important; transform:none !important; }
  }

  /* Page load staggered animations (apply when body.site-animate present) */
  .load-anim{ opacity:0; transform: translateY(12px) scale(.995); }
  .site-animate .load-anim[data-anim="fade"]{ animation-name: fadeUp; animation-duration:760ms; animation-timing-function: cubic-bezier(.2,.9,.25,1); animation-fill-mode: both; animation-delay: var(--delay, 0ms); }
  .site-animate .load-anim[data-anim="pop"]{ animation-name: popIn; animation-duration:920ms; animation-timing-function: cubic-bezier(.16,.9,.28,1); animation-fill-mode: both; animation-delay: var(--delay, 0ms); }
  .site-animate .load-anim[data-anim="fade-slow"]{ animation-name: fadeUp; animation-duration:1200ms; animation-timing-function: cubic-bezier(.16,.9,.28,1); animation-fill-mode: both; animation-delay: var(--delay, 0ms); }

  @keyframes fadeUp{ from{ opacity:0; transform: translateY(18px); } to{ opacity:1; transform: translateY(0); } }
  @keyframes popIn{ 0%{ opacity:0; transform: translateY(12px) scale(.94); } 60%{ transform: translateY(-8px) scale(1.12); } 100%{ opacity:1; transform: translateY(0) scale(1); } }

  /* make buttons shimmer slightly on initial entrance */
  .site-animate .load-anim[data-anim="pop"] button, .site-animate .load-anim[data-anim="pop"] .btn{
    box-shadow: 0 10px 36px rgba(11,99,214,0.06);
  }

  </style>
<body>
</head>
<body>
  <script>
    // Fallback: ensure site-wide entrance animations run on window.load if JS earlier didn't trigger them.
    (function(){
      try{
        const prefersReduced = window.matchMedia && window.matchMedia('(prefers-reduced-motion: reduce)').matches;
        if(prefersReduced) return;
        window.addEventListener('load', ()=>{
          setTimeout(()=>{
            // (debug indicator removed) — trigger animations normally
            document.body.classList.add('site-animate');
            const seq = [];
            const header = document.querySelector('.logo-heading'); if(header) seq.push(header);
            const menu = document.getElementById('menuBtn'); if(menu) seq.push(menu);
            document.querySelectorAll('.card').forEach(el=> seq.push(el));
            document.querySelectorAll('.card input, .card select, .card textarea, .card button').forEach(el=> seq.push(el));
            const seen = new Set();
            const targets = seq.filter(el=> el && !seen.has(el) && (seen.add(el), true));
            const base = 220; const step = 120;
            targets.forEach((el,i)=>{
              el.style.setProperty('--delay', ${base + i*step}ms);
              const tag = (el.tagName||'').toLowerCase();
              if(tag==='button' || el.classList.contains('hamburger')) el.setAttribute('data-anim','pop');
              else if(tag==='input' || tag==='select' || tag==='textarea') el.setAttribute('data-anim','fade');
              else el.setAttribute('data-anim','fade-slow');
              el.classList.add('load-anim');
            });
            const totalMs = base + targets.length*step + 700;
            setTimeout(()=>{ const img = document.querySelector('.logo-img'); if(img) img.classList.add('logo-float'); }, totalMs);
          }, 120);
        });
      }catch(e){/* ignore */}
    })();
  </script>
  <nav class="topbar" aria-label="Main navigation">
    <div class="nav">
      <a href="#faq">FAQ</a>
      <a href="#jobs">Jobs</a>
      <a href="#companies">Companies</a>
      <a href="#services">Services</a>
    </div>
      <div class="search-wrap" role="search">
        <div class="search-input" role="search">
          <svg width="16" height="16" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M21 21l-4.35-4.35" stroke="currentColor" stroke-width="1.6" stroke-linecap="round" stroke-linejoin="round"/><circle cx="11" cy="11" r="6" stroke="currentColor" stroke-width="1.6"/></svg>
          <input id="topSearch" class="search-field" placeholder="Search workers or companies..." aria-label="Search workers and companies" autocomplete="off">
        </div>
        <div id="searchResults" class="search-results" role="listbox" aria-label="Search results"></div>
      </div>
  </nav>

  <div style="max-width:1100px;margin:0 auto 18px;">
    <h1 class="logo-heading" style="margin:0 0 8px">
      <a class="site-logo" href="#" aria-label="Labour Link">
        <span class="mark" aria-hidden="true">
          <!-- Image logo: replace SVG with LL.jpg (falls back to inline SVG if image missing) -->
          <img src="./LL.jpg" alt="Labour Link logo" class="logo-img" id="siteLogoImg" />
          <script>
            // If the image fails to load (case-sensitive path or missing file on GitHub Pages),
            // replace it with an inline SVG so the logo always appears.
            (function(){
              const img = document.getElementById('siteLogoImg');
              if(!img) return;
              function makeSvg(){
                const ns = 'http://www.w3.org/2000/svg';
                const svg = document.createElementNS(ns,'svg'); svg.setAttribute('width','34'); svg.setAttribute('height','34'); svg.setAttribute('viewBox','0 0 24 24'); svg.setAttribute('aria-hidden','true');
                const rect = document.createElementNS(ns,'rect'); rect.setAttribute('x','0'); rect.setAttribute('y','0'); rect.setAttribute('width','24'); rect.setAttribute('height','24'); rect.setAttribute('rx','6'); rect.setAttribute('fill','none'); svg.appendChild(rect);
                const body = document.createElementNS(ns,'path'); body.setAttribute('d','M3 12c0-3.3 2.7-6 6-6h6c3.3 0 6 2.7 6 6v1.6c0 .4-.3.8-.8.8H3.8c-.4 0-.8-.3-.8-.8V12z'); body.setAttribute('fill','#fff'); svg.appendChild(body);
                const visor = document.createElementNS(ns,'path'); visor.setAttribute('d','M5.6 12.6c1.2-0.8 3.6-1.1 6.4-1.1s5.2.3 6.4 1.1c0 0-0.6 1.3-6.4 1.3s-6.4-1.3-6.4-1.3z'); visor.setAttribute('fill','rgba(11,99,214,0.12)'); svg.appendChild(visor);
                const accent = document.createElementNS(ns,'path'); accent.setAttribute('d','M8 9.8h8v1.2H8z'); accent.setAttribute('fill','var(--accent)'); accent.setAttribute('opacity','0.9'); svg.appendChild(accent);
                const glow = document.createElementNS(ns,'ellipse'); glow.setAttribute('cx','12'); glow.setAttribute('cy','12'); glow.setAttribute('rx','6.4'); glow.setAttribute('ry','5.4'); glow.setAttribute('fill','rgba(6,182,212,0.14)'); glow.setAttribute('class','logo-glow'); svg.appendChild(glow);
                return svg;
              }
              function replace(){ const svg = makeSvg(); img.replaceWith(svg); }
              // If the image errors (missing or wrong path), replace it
              img.addEventListener('error', replace);
              // If image loads but is 0-size (some servers), replace it too
              img.addEventListener('load', ()=>{ if(img.naturalWidth===0) replace(); });
              // Also check now (in case image was cached and event already fired)
              setTimeout(()=>{ if(img.complete && img.naturalWidth===0) replace(); }, 250);
            })();
          </script>
        </span>
        <span class="brand"><span class="main">Labour</span><span class="sub">Link</span></span>
      </a>
    </h1>
    <div class="muted"><code></code> <code></code> </div>
  </div>  <div class="container">
    <!-- Hamburger menu (top-left) -->
    <button id="menuBtn" class="hamburger" aria-label="Open menu" aria-expanded="false" title="Menu" style="position:fixed;left:18px;top:18px;z-index:140">
      <span></span><span></span><span></span>
    </button>

    <!-- Side drawer (hidden by default) -->
    <div id="sideDrawer" class="drawer" aria-hidden="true">
      <div class="drawer-header" role="banner" aria-label="Drawer header">
        <!-- visible 'Overview' removed as requested; keep an accessible label for screen readers -->
        <span class="sr-only">Overview</span>
        <button id="closeDrawer" aria-label="Close" title="Close">✕</button>
      </div>
      <div class="drawer-body">
        <div class="drawer-item"><div class="drawer-label">Companies</div><div class="drawer-count" id="companyCount">467</div></div>
        <!-- Workers count removed from the drawer per request (kept JS-safe checks in script) -->
        <div class="drawer-item"><div class="drawer-label">Electricians</div><div class="drawer-count" id="electricianCount">0</div></div>
        <div class="drawer-item"><div class="drawer-label">Mechanics</div><div class="drawer-count" id="mechanicCount">0</div></div>
        <div class="drawer-item"><div class="drawer-label">Plumbers</div><div class="drawer-count" id="plumberCount">0</div></div>
        <div class="drawer-item"><div class="drawer-label">Contact</div><div><button id="contactBtn" class="secondary">Contact</button></div></div>
      </div>
    </div>
    <div id="drawerOverlay" class="drawer-overlay" style="display:none"></div>
    <div>
      <div class="card" id="workerCard">
        <h2>Worker Registration / Login</h2>
        <div id="workerAuth">
          <label>Mobile number</label>
          <input id="wMobile" placeholder="10-digit mobile" />
          <div style="display:flex;gap:8px;margin-top:8px">
            <button id="sendOtp">Send OTP (simulate)</button>
            <button id="loginWithPwd" class="secondary">Login with Password</button>
          </div>
          <div id="otpBox" style="display:none;margin-top:8px">
            <label>Enter OTP</label>
            <div class="row">
              <input id="wOtp" placeholder="6-digit" />
              <button id="verifyOtp">Verify</button>
            </div>
            <div class="small">OTP will be shown in an alert (simulation). Timer 90s.</div>
          </div>
        </div><hr style="margin:12px 0">

    <form id="workerForm">
      <label>Full name</label>
      <input id="wName" required />

      <label>Aadhaar number (will be masked)</label>
      <input id="wAadhaar" maxlength="12" placeholder="123412341234" />

      <label>Country</label>
      <select id="countrySelect"><option>Loading countries...</option></select>

      <label>State (auto for India; else manual)</label>
      <select id="stateSelect" style="display:none"></select>
      <input id="stateInput" placeholder="State / Province" />

      <label>District / City</label>
      <input id="districtInput" placeholder="District or city" />

      <label>Present Address</label>
      <textarea id="address" rows="2"></textarea>

      <label>Worker category</label>
      <select id="category">
        <option>Electrician</option>
        <option>Mechanic</option>
        <option>Labour</option>
        <option>Plumber</option>
        <option>Carpenter</option>
        <option>Others</option>
      </select>
      <!-- hidden textbox shown when user selects Other/Others -->
      <input id="categoryOther" placeholder="If Others, type here" style="display:none;margin-top:8px" />

      <label>Degrees / Qualifications (comma separated)</label>
      <input id="degrees" placeholder="e.g. ITI Electrician, Diploma" />

      <label>Work experience (years)</label>
      <input id="experience" type="number" min="0" value="0" />

      <label>Password</label>
      <input id="wPassword" type="password" />
      <label>Re-type Password</label>
      <input id="wRepass" type="password" />

      <div style="display:flex;gap:8px;margin-top:12px">
        <button id="saveWorker">Complete Worker Account</button>
        <button type="button" id="clearWorkers" class="secondary">Clear All Workers</button>
      </div>
    </form>

    <div class="small" style="margin-top:10px">After registration, workers are listed on the right and companies can assign workers.</div>
  </div>

  <div class="card" style="margin-top:14px">
    <h2>Company Registration</h2>
    <label>Company name</label>
    <input id="cName" />
    <label>Company address</label>
    <input id="cAddress" />
    <label>GST Number</label>
    <input id="cGst" />
    <label>Type of work / Need</label>
    <input id="cWork" placeholder="e.g. Need 5 electricians" />

    <div style="display:flex;gap:8px;margin-top:12px">
      <button id="saveCompany">Save Company</button>
      <button id="clearCompanies" class="secondary">Clear Companies</button>
    </div>

    <hr style="margin:12px 0">
    <h3 style="font-size:15px;margin:0 0 8px">Assign worker to company</h3>
    <label>Select company</label>
    <select id="companySelect"></select>
    <label>Select worker</label>
    <select id="assignWorkerSelect"></select>
    <div style="display:flex;gap:8px;margin-top:8px">
      <button id="assignBtn">Assign</button>
    </div>
  </div>
</div>

  </div>  <script>
    // --- Utilities ---
    const $ = id => document.getElementById(id);
    const storageKey = {workers:'demo_workers_v1', companies:'demo_companies_v1'};

    // --- Country fetch ---
    async function loadCountries(){
      try{
        const res = await fetch('https://restcountries.com/v3.1/all');
        const data = await res.json();
        const list = data.sort((a,b)=> (a.name.common > b.name.common?1:-1));
        const sel = $('countrySelect'); sel.innerHTML = '';
        list.forEach(c=>{
          const opt = document.createElement('option'); opt.value = c.cca2 || c.name.common; opt.textContent = c.name.common; sel.appendChild(opt);
        });
        // set default to India if present
        for(let i=0;i<sel.options.length;i++) if(sel.options[i].text==='India') sel.selectedIndex=i;
        handleCountryChange();
      }catch(err){
        const sel = $('countrySelect'); sel.innerHTML = '<option>India</option><option>United States</option><option>Other</option>';
      }
    }

    // Sample states for India; for other countries we allow manual entry
    const indiaStates = ["Andhra Pradesh","Arunachal Pradesh","Assam","Bihar","Chhattisgarh","Goa","Gujarat","Haryana","Himachal Pradesh","Jharkhand","Karnataka","Kerala","Madhya Pradesh","Maharashtra","Manipur","Meghalaya","Mizoram","Nagaland","Odisha","Punjab","Rajasthan","Sikkim","Tamil Nadu","Telangana","Tripura","Uttar Pradesh","Uttarakhand","West Bengal","Delhi"];

    function handleCountryChange(){
      const c = $('countrySelect').selectedOptions[0].text;
      if(c==='India'){
        $('stateSelect').style.display='block'; $('stateInput').style.display='none';
        const ss = $('stateSelect'); ss.innerHTML=''; indiaStates.forEach(s=>{ const o=document.createElement('option');o.value=s;o.textContent=s;ss.appendChild(o);});
      } else {
        $('stateSelect').style.display='none'; $('stateInput').style.display='block';
      }
    }

    // --- OTP Simulation ---
    let currentOtp = null; let otpExpiryTimer = null;
    function sendOtp(){
      const mobile = $('wMobile').value.trim();
      if(!/^[6-9]\d{9}$/.test(mobile)) return alert('Enter valid 10-digit mobile starting 6-9');
      currentOtp = Math.floor(100000 + Math.random()*900000).toString();
      alert('SIMULATED OTP for '+mobile+': ' + currentOtp + '\n(This is a demo — OTP shown in alert)');
      $('otpBox').style.display='block';
      if(otpExpiryTimer) clearTimeout(otpExpiryTimer);
      otpExpiryTimer = setTimeout(()=>{ currentOtp=null; }, 90*1000);
    }
    function verifyOtp(){
      const val = $('wOtp').value.trim();
      if(val===currentOtp){
        currentOtp = null; if(otpExpiryTimer) clearTimeout(otpExpiryTimer);
        // allow form filling — prefills mobile
        alert('Verified! Now fill the rest of worker details and choose a password.');
      } else alert('Wrong OTP or expired.');
    }

    // --- Persistence ---
    function loadWorkers(){
      const raw = localStorage.getItem(storageKey.workers) || '[]';
      try{ return JSON.parse(raw);}catch(e){return []}
    }
    function saveWorkers(list){ localStorage.setItem(storageKey.workers, JSON.stringify(list)); renderWorkers(); }
    function loadCompanies(){ const raw = localStorage.getItem(storageKey.companies) || '[]'; try{return JSON.parse(raw);}catch(e){return []} }
    function saveCompanies(list){ localStorage.setItem(storageKey.companies, JSON.stringify(list)); renderCompanies(); }

    function maskAadhaar(s){ s = (s||'').toString(); if(s.length<12) return s; return s.slice(0,4) + ' **** ' + s.slice(-4); }

    // --- Render ---
    function renderWorkers(){
      const list = loadWorkers();
      // workerCount removed from markup — guard so JS doesn't break when it's missing
      const wc = $('workerCount'); if(wc) wc.textContent = list.length;
      // compute category counts and update drawer counters (if present)
      const normalize = s => (s||'').toString().trim().toLowerCase();
      const electricianCount = list.filter(w=> normalize(w.category) === 'electrician').length;
      const mechanicCount = list.filter(w=> normalize(w.category) === 'mechanic').length;
      const plumberCount = list.filter(w=> normalize(w.category) === 'plumber').length;
      const elCountEl = $('electricianCount'); if(elCountEl) elCountEl.textContent = electricianCount;
      const meCountEl = $('mechanicCount'); if(meCountEl) meCountEl.textContent = mechanicCount;
      const plCountEl = $('plumberCount'); if(plCountEl) plCountEl.textContent = plumberCount;
      const wrap = $('workerList'); if(wrap) wrap.innerHTML='';
      const select = $('assignWorkerSelect'); if(select) select.innerHTML='';
      list.forEach((w,idx)=>{
        const div=document.createElement('div'); div.className='item';
        div.innerHTML = <div style="display:flex;justify-content:space-between;align-items:center"><div><strong>${w.name}</strong> <span class="muted">(${w.category})</span><div class="small">Mobile: ${w.mobile} | Aadhaar: ${maskAadhaar(w.aadhaar)}</div></div><div><button data-idx="${idx}" class="btnView">View</button></div></div>;
        if(wrap) wrap.appendChild(div);
        const opt = document.createElement('option'); opt.value = idx; opt.textContent = w.name + ' — ' + w.mobile; if(select) select.appendChild(opt);
      });
      // attach view buttons
      document.querySelectorAll('.btnView').forEach(btn=>btn.addEventListener('click',e=>{
        const i = btn.getAttribute('data-idx'); const w = loadWorkers()[i]; alert(JSON.stringify(w, ['name','mobile','category','degrees','experience','address'], 2));
      }));
      }
    function renderCompanies(){
      const list = loadCompanies();
      const cc = $('companyCount'); if(cc) cc.textContent = list.length;
      const wrap = $('companyList'); if(wrap) wrap.innerHTML='';
      const csel = $('companySelect'); if(csel) csel.innerHTML='';
      list.forEach((c,idx)=>{
        const div=document.createElement('div'); div.className='item';
        const ass = (c.assignedWorkers||[]).map(i=>{ const w = loadWorkers()[i]; return w? w.name : ('#'+i); }).join(', ');
        div.innerHTML = <strong>${c.name}</strong><div class="small">GST: ${c.gst || '-'} | ${c.work}</div><div class="small">Assigned: ${ass || 'none'}</div>;
        if(wrap) wrap.appendChild(div);
        const opt = document.createElement('option'); opt.value = idx; opt.textContent = c.name; if(csel) csel.appendChild(opt);
      });
    }

    // --- Events ---
    document.addEventListener('DOMContentLoaded',()=>{
      loadCountries();
      $('countrySelect').addEventListener('change', handleCountryChange);
      $('sendOtp').addEventListener('click', sendOtp);
      $('verifyOtp').addEventListener('click', verifyOtp);
      $('saveWorker').addEventListener('click', e=>{
        e.preventDefault();
        const mobile = $('wMobile').value.trim();
        const name = $('wName').value.trim();
        if(!name) return alert('Enter name');
        if(!/^[6-9]\d{9}$/.test(mobile)) return alert('Enter valid mobile');
        const pwd = $('wPassword').value;
        if(pwd.length<4) return alert('Password should be at least 4 chars (demo)');
        if(pwd !== $('wRepass').value) return alert('Passwords do not match');
        const country = $('countrySelect').selectedOptions[0].text;
        const state = $('stateSelect').style.display==='block' ? $('stateSelect').value : $('stateInput').value;
        const worker = {
          name, mobile, aadhaar: $('wAadhaar').value.trim(), country, state, district: $('districtInput').value, address: $('address').value, category: $('category').value, degrees: $('degrees').value.split(',').map(s=>s.trim()).filter(Boolean), experience: Number($('experience').value||0), password: pwd
        };
        const workers = loadWorkers(); workers.push(worker); saveWorkers(workers);
        alert('Worker saved (demo).');
        document.getElementById('workerForm').reset();
      });

      $('clearWorkers').addEventListener('click', ()=>{ if(confirm('Clear all workers?')){ localStorage.removeItem(storageKey.workers); renderWorkers(); }});

      $('saveCompany').addEventListener('click', ()=>{
        const name = $('cName').value.trim(); if(!name) return alert('Enter company name');
        const c = {name, address: $('cAddress').value, gst: $('cGst').value, work: $('cWork').value, assignedWorkers: []};
        const list = loadCompanies(); list.push(c); saveCompanies(list); alert('Company saved'); document.getElementById('cName').value='';
      });

      $('clearCompanies').addEventListener('click', ()=>{ if(confirm('Clear all companies?')){ localStorage.removeItem(storageKey.companies); renderCompanies(); }});

      $('assignBtn').addEventListener('click', ()=>{
        const ci = $('companySelect').value; const wi = $('assignWorkerSelect').value;
        if(ci===''||wi==='') return alert('Select company and worker');
        const comps = loadCompanies(); if(!comps[ci].assignedWorkers) comps[ci].assignedWorkers=[]; comps[ci].assignedWorkers.push(Number(wi)); saveCompanies(comps); alert('Assigned'); renderCompanies();
      });

      // initial render
      renderWorkers(); renderCompanies();

      // Trigger logo brand animation once on initial load (skip for reduced-motion)
      try{
        const logoEl = document.querySelector('.site-logo');
        const prefersReduced = window.matchMedia && window.matchMedia('(prefers-reduced-motion: reduce)').matches;
        if(logoEl){ if(!prefersReduced) setTimeout(()=> logoEl.classList.add('animate'), 120); else logoEl.classList.add('animate'); }

        // Site-wide entrance animations: stagger important elements for a fancy first-load
        if(!prefersReduced){
          const seq = [];
          const header = document.querySelector('.logo-heading'); if(header) seq.push(header);
          const menu = document.getElementById('menuBtn'); if(menu) seq.push(menu);
          // cards (main blocks)
          document.querySelectorAll('.card').forEach(el=> seq.push(el));
          // small interactive elements inside cards (inputs, selects, textareas, buttons)
          document.querySelectorAll('.card input, .card select, .card textarea, .card button').forEach(el=> seq.push(el));
          // ensure unique order and visible
          const seen = new Set();
          const targets = seq.filter(el=> el && !seen.has(el) && (seen.add(el), true));

          // base delay (ms) and stagger step
          const base = 220; const step = 120;
          targets.forEach((el,i)=>{
            el.style.setProperty('--delay', ${base + i*step}ms);
            // choose animation style
            const tag = (el.tagName||'').toLowerCase();
            if(tag==='button' || el.classList.contains('hamburger')) el.setAttribute('data-anim','pop');
            else if(tag==='input' || tag==='select' || tag==='textarea') el.setAttribute('data-anim','fade');
            else el.setAttribute('data-anim','fade-slow');
            el.classList.add('load-anim');
          });

          // add body class to activate any CSS that depends on it
          document.body.classList.add('site-animate');

          // after entrance completes, add float to logo image for subtle life
          const totalMs = base + targets.length*step + 700;
          setTimeout(()=>{ const img = document.querySelector('.logo-img'); if(img) img.classList.add('logo-float'); }, totalMs);
        }
      }catch(e){/* ignore */}
    });

    // Drawer toggle logic
    (function(){
      const menu = $('menuBtn'); const drawer = $('sideDrawer'); const overlay = $('drawerOverlay'); const close = $('closeDrawer');
      if(!menu || !drawer) return;
        function openDrawer(){
          drawer.classList.add('open'); drawer.setAttribute('aria-hidden','false');
          // ensure overlay shows above page but below drawer as configured
          overlay.style.display='block'; setTimeout(()=>overlay.style.opacity='1',20);
          // add a body class so other elements (like the topbar) can move behind the drawer
          document.body.classList.add('drawer-open');
          // update counts from stored data so drawer shows live values
          try{ renderWorkers(); renderCompanies(); }catch(e){}
          menu.classList.add('open'); menu.setAttribute('aria-expanded','true');
        }
        function closeDrawer(){
          drawer.classList.remove('open'); drawer.setAttribute('aria-hidden','true');
          overlay.style.opacity='0'; setTimeout(()=>overlay.style.display='none',240);
          // remove the body class so the topbar returns to normal stacking
          document.body.classList.remove('drawer-open');
          menu.classList.remove('open'); menu.setAttribute('aria-expanded','false');
        }
      menu.addEventListener('click', ()=>{ if(drawer.classList.contains('open')) closeDrawer(); else openDrawer(); });
        if(close) close.addEventListener('click', closeDrawer);
        overlay.addEventListener('click', closeDrawer);
        // contact button inside drawer
        const contactBtn = document.getElementById('contactBtn');
        if(contactBtn) contactBtn.addEventListener('click', ()=>{
          // open mail client with a prefilled subject (demo)
          window.location.href = 'mailto:contact@labourlink.example?subject=Labour%20Link%20Inquiry';
        });
          // (previously wired a topbar Explore button; removed per request)
        // close on Escape
        document.addEventListener('keydown', (e)=>{ if(e.key==='Escape' && drawer.classList.contains('open')) closeDrawer(); });
    })();

    // --- Small handler: show 'Other' textbox for category and sync value ---
    document.addEventListener('DOMContentLoaded', ()=>{
      const cat = $('category');
      const other = $('categoryOther');
      if(!cat || !other) return;

      // helper: add or update a custom option to hold the typed value
      function upsertCustomOption(val){
        if(!val) return;
        let custom = Array.from(cat.options).find(o=>o.dataset && o.dataset.custom==='1');
        if(custom){ custom.value = val; custom.text = val; }
        else { custom = document.createElement('option'); custom.value = val; custom.text = val; custom.dataset.custom='1'; cat.appendChild(custom); }
        cat.value = val;
      }

      function showHide(){
        const txt = (cat.selectedOptions[0] && cat.selectedOptions[0].text) || '';
        // treat both "Other" and "Others" (or any label containing 'other') as the trigger
        if(txt.toLowerCase().includes('other')){
          other.style.display = 'block'; other.focus();
          if(other.value.trim()) upsertCustomOption(other.value.trim());
        } else {
          other.style.display = 'none';
        }
      }

      // when user selects category
      cat.addEventListener('change', showHide);

      // when user types their custom category, keep select in sync so existing save handler reads it
      other.addEventListener('input', ()=>{
        const v = other.value.trim();
        if(v) upsertCustomOption(v);
      });

      // initial state
      showHide();
    });

  </script>
  <script>
    // Top search: debounced local search across workers and companies + keyboard nav
    (function(){
      const top = $('topSearch'); const resultsWrap = $('searchResults'); if(!top || !resultsWrap) return;
      let timeout = null; let items = []; let selected = -1;

      function clearResults(){ items = []; selected = -1; resultsWrap.innerHTML = ''; resultsWrap.classList.remove('open'); resultsWrap.setAttribute('aria-expanded','false'); }

      function render(){
        resultsWrap.innerHTML = '';
        if(!items.length){ clearResults(); return; }
        items.forEach((it,i)=>{
          const el = document.createElement('div'); el.className = 'search-item'; el.setAttribute('role','option'); el.dataset.type = it.type; el.dataset.idx = it.idx; el.tabIndex = -1;
          if(i===selected) el.setAttribute('aria-selected','true'); else el.setAttribute('aria-selected','false');
          const type = document.createElement('div'); type.className='type'; type.textContent = it.type==='worker' ? 'Worker' : 'Company';
          const main = document.createElement('div'); main.style.flex = '1';
          const label = document.createElement('div'); label.className='label'; label.textContent = it.label;
          const sub = document.createElement('div'); sub.className='sub'; sub.textContent = it.sub;
          main.appendChild(label); main.appendChild(sub);
          el.appendChild(type); el.appendChild(main);
          el.addEventListener('click', ()=>{ activate(i); });
          resultsWrap.appendChild(el);
        });
        resultsWrap.classList.add('open'); resultsWrap.setAttribute('aria-expanded','true');
      }

      function activate(index){
        const it = items[index]; if(!it) return; // perform simple action: preselect in form
        if(it.type==='worker'){
          // focus assign selects and preselect worker
          const assign = $('assignWorkerSelect'); if(assign){ assign.value = it.idx; assign.focus(); }
          alert('Selected worker: ' + it.label + '\nYou can now choose a company and press Assign.');
        } else {
          const csel = $('companySelect'); if(csel){ csel.value = it.idx; csel.focus(); }
          alert('Selected company: ' + it.label + '\nNow pick a worker and click Assign.');
        }
        clearResults(); top.value = '';
      }

      function doSearch(q){
        q = q.trim().toLowerCase(); if(!q || q.length<2){ clearResults(); return; }
        const wk = loadWorkers(); const cp = loadCompanies(); const out = [];
        wk.forEach((w,i)=>{
          const hay = (w.name + ' ' + (w.mobile||'') + ' ' + (w.category||'') + ' ' + (w.degrees||'').join(' ')).toLowerCase();
          if(hay.includes(q)) out.push({type:'worker', idx:i, label: w.name + ' — ' + w.mobile, sub: (w.category||'') + (w.country? ' • ' + w.country : '')});
        });
        cp.forEach((c,i)=>{
          const hay = (c.name + ' ' + (c.work||'') + ' ' + (c.gst||'')).toLowerCase();
          if(hay.includes(q)) out.push({type:'company', idx:i, label: c.name, sub: (c.work||'') + (c.gst? ' • GST:' + c.gst : '')});
        });
        items = out.slice(0,20); selected = items.length? 0 : -1; render();
      }

      top.addEventListener('input', ()=>{
        if(timeout) clearTimeout(timeout);
        timeout = setTimeout(()=> doSearch(top.value || ''), 250);
      });

      top.addEventListener('keydown', (e)=>{
        if(e.key === 'ArrowDown'){
          e.preventDefault(); if(!items.length) return; selected = Math.min(items.length-1, selected+1); render(); const el = resultsWrap.children[selected]; if(el) el.scrollIntoView({block:'nearest'});
        } else if(e.key === 'ArrowUp'){
          e.preventDefault(); if(!items.length) return; selected = Math.max(0, selected-1); render(); const el = resultsWrap.children[selected]; if(el) el.scrollIntoView({block:'nearest'});
        } else if(e.key === 'Enter'){
          e.preventDefault(); if(selected>=0 && items[selected]) activate(selected);
        } else if(e.key === 'Escape'){
          clearResults();
        }
      });

      // clicking outside closes
      document.addEventListener('click', (ev)=>{ if(!resultsWrap.contains(ev.target) && ev.target !== top) clearResults(); });

      // quick focus shortcut: press / to focus search (if not typing in a field)
      document.addEventListener('keydown', (e)=>{
        if(e.key === '/' && !e.metaKey && !e.ctrlKey && !e.altKey){
          const active = document.activeElement; const tag = active && active.tagName && active.tagName.toLowerCase();
          if(tag !== 'input' && tag !== 'textarea' && !active.isContentEditable){ e.preventDefault(); top.focus(); top.select(); }
        }
      });
    })();
  </script>
  <footer style="max-width:1100px;margin:28px auto 8px;color:var(--muted);font-size:13px;text-align:center">© <strong>Labour Link</strong> — Connecting workers and companies • Built with care</footer>
</body>
</html>
